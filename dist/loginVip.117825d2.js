const e=document.getElementById("input-username1"),t=document.getElementById("input-username2"),r=document.getElementById("input-username3"),a=document.getElementById("input-email"),o=document.getElementById("input-password"),n=document.getElementById("btn-criar-conta"),s=document.getElementById("alert"),i="https://parseapi.back4app.com/classes/UserVip",l="https://parseapi.back4app.com/classes/_User",u={"X-Parse-Application-Id":"EtXU3jV6pXkDHC5aRDi2ewMJbq3giWgbfBSeIlNq","X-Parse-REST-API-Key":"4P3E1V7SmTX23TsXSEHyo8N7Q8aVgK9H47uGTWYr","X-Parse-Revocable-Session":"1","Content-Type":"application/json"},m=async(e,t)=>{let r=await fetch(`${l}?where={"${e}":"${t}"}`,{method:"GET",headers:u});if(r.ok){if((await r.json()).results.length>0)return!0}else{let t=await r.json();throw Error(`Erro ao verificar ${e}: ${t.error}`)}let a=await fetch(`${i}?where={"${e}":"${t}"}`,{method:"GET",headers:u});if(a.ok)return(await a.json()).results.length>0;{let t=await a.json();throw Error(`Erro ao verificar ${e} (VIP): ${t.error}`)}},c=async()=>{let e=function(){let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let r=0;r<20;r++)t+=e[Math.floor(Math.random()*e.length)];return t}(),a={usernameTwo:t.value,usernameThree:r.value,tokenVip:e},o=await fetch(i,{method:"POST",headers:u,body:JSON.stringify(a)});if(o.ok)d((await o.json()).objectId,e);else{let e=await o.json();s.textContent=`Erro ao criar usu\xe1rio vip: ${e.error}`}},d=async(t,r)=>{let n={username:e.value,email:a.value,password:o.value,UserVip:{__type:"Pointer",className:"UserVip",objectId:t}},i=await fetch(l,{method:"POST",headers:u,body:JSON.stringify(n)});if(i.ok){let e=document.getElementById("h3-token"),t=document.getElementById("token");return e.innerHTML="Token vip (salve ele em algum lugar)",t.innerHTML=r,s.textContent="",await i.json()}{let e=await i.json();s.textContent=`Erro ao criar usu\xe1rio vip: ${e.error}`}};n.addEventListener("click",async()=>{try{if(/^[a-zA-Z]+$/.test(e.value)||/^[a-zA-Z]+$/.test(t.value)||/^[a-zA-Z]+$/.test(e.value)){if(""===e.value||""==t.value||""==t.value||""===a.value||""===o.value)throw Error("Preencha os campos restantes.");if(e.value.length<3)throw Error("O nome de usuário deve ter pelo menos 3 caracteres.");if(o.value.length<5)throw Error("A senha deve ter no mínimo 5 caracteres.")}else throw Error("O nome de usuário é composto apenas por letras.");if(await m("username",e.value))throw Error("Usuário já existente, mude o nome de usuário.");if(await m("email",a.value))throw Error("Usuário já existente, mude o email de usuário.");await c()}catch(e){s.textContent=e.message}});
//# sourceMappingURL=loginVip.117825d2.js.map
