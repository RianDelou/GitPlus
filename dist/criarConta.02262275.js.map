{"mappings":"AAAA,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,QAAQ,SAAS,cAAc,CAAC;AACtC,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,sBAAsB,SAAS,cAAc,CAAC;AACpD,MAAM,YAAY,SAAS,cAAc,CAAC;AAC1C,MAAM,WAAW;AACjB,MAAM,UAAU;IACd,0BAA0B;IAC1B,wBAAwB;IACxB,6BAA6B;AAC/B;AACA,MAAM,cAAc;IAClB,GAAG,OAAO;IACV,gBAAgB;AAClB;AAEA,MAAM,sBAAsB,OAAO;IACjC,MAAM,WAAW,MAAM,MAAM,CAAC,EAAE,SAAS,oBAAoB,EAAE,SAAS,EAAE,CAAC,EAAE;QAC3E,QAAQ;QACR,SAAS;IACX;IAEA,IAAI,SAAS,EAAE,EAAE;QACf,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,KAAK,OAAO,CAAC,MAAM,GAAG;IAC/B,OAAO;QACL,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,MAAM,IAAI,MAAM,CAAC,sCAAmC,EAAE,UAAU,KAAK,CAAC,CAAC;IACzE;AACF;AAEA,MAAM,aAAa;IACjB,MAAM,WAAW;QACf,UAAU,SAAS,KAAK;QACxB,OAAO,MAAM,KAAK;QAClB,UAAU,SAAS,KAAK;IAC1B;IAEA,MAAM,WAAW,MAAM,MAAM,UAAU;QACrC,QAAQ;QACR,SAAS;QACT,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,SAAS,EAAE,EACb,OAAO,MAAM,SAAS,IAAI;SACrB;QACL,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,MAAM,IAAI,MAAM,CAAC,0BAAuB,EAAE,UAAU,KAAK,CAAC,CAAC;IAC7D;AACF;AAEA,oBAAoB,gBAAgB,CAAC,SAAS;IAC5C,IAAI;QACF,IAAI,CAAC,cAAc,IAAI,CAAC,SAAS,KAAK,GACpC,MAAM,IAAI,MAAM;aACX,IAAI,SAAS,KAAK,KAAK,MAAM,MAAM,KAAK,KAAK,MAAM,SAAS,KAAK,KAAK,IAC3E,MAAM,IAAI,MAAM;aACX,IAAI,SAAS,KAAK,CAAC,MAAM,GAAG,GACjC,MAAM,IAAI,MAAM;aACX,IAAI,SAAS,KAAK,CAAC,MAAM,GAAG,GACjC,MAAM,IAAI,MAAM;QAGlB,MAAM,iBAAiB,MAAM,oBAAoB,SAAS,KAAK;QAC9D,IAAI,gBACF,MAAM,IAAI,MAAM;QAGnB,MAAM;QAEN,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB,EAAE,OAAO,OAAO;QACd,UAAU,WAAW,GAAG,MAAM,OAAO;IACvC;AACF","sources":["back-end/postUser.js"],"sourcesContent":["const userName = document.getElementById(\"input-username\");\r\nconst email = document.getElementById(\"input-email\");\r\nconst password = document.getElementById(\"input-password\");\r\nconst buttonCreateAccount = document.getElementById(\"btn-criar-conta\");\r\nconst failAlert = document.getElementById(\"alert\");\r\nconst urlUsers = \"https://parseapi.back4app.com/classes/_User\";\r\nconst headers = {\r\n  \"X-Parse-Application-Id\": \"EtXU3jV6pXkDHC5aRDi2ewMJbq3giWgbfBSeIlNq\",\r\n  \"X-Parse-REST-API-Key\": \"4P3E1V7SmTX23TsXSEHyo8N7Q8aVgK9H47uGTWYr\",\r\n  \"X-Parse-Revocable-Session\": \"1\",\r\n};\r\nconst headersJson = {\r\n  ...headers,\r\n  \"Content-Type\": \"application/json\",\r\n};\r\n\r\nconst checkUsernameExists = async (username) => {\r\n  const response = await fetch(`${urlUsers}?where={\"username\":\"${username}\"}`, {\r\n    method: \"GET\",\r\n    headers: headersJson,\r\n  });\r\n\r\n  if (response.ok) {\r\n    const data = await response.json();\r\n    return data.results.length > 0;\r\n  } else {\r\n    const errorData = await response.json();\r\n    throw new Error(`Erro ao verificar nome de usuário: ${errorData.error}`);\r\n  }\r\n};\r\n\r\nconst createUser = async () => {\r\n  const userData = {\r\n    username: userName.value,\r\n    email: email.value,\r\n    password: password.value,\r\n  };\r\n\r\n  const response = await fetch(urlUsers, {\r\n    method: \"POST\",\r\n    headers: headersJson,\r\n    body: JSON.stringify(userData),\r\n  });\r\n\r\n  if (response.ok) {\r\n    return await response.json();\r\n  } else {\r\n    const errorData = await response.json();\r\n    throw new Error(`Erro ao criar usuário: ${errorData.error}`);\r\n  }\r\n};\r\n\r\nbuttonCreateAccount.addEventListener(\"click\", async () => {\r\n  try {\r\n    if (!/^[a-zA-Z]+$/.test(userName.value)) {\r\n      throw new Error(\"O nome de usuário é composto apenas por letras.\");\r\n    } else if (userName.value === \"\" || email.value === \"\" || password.value === \"\") {\r\n      throw new Error(\"Preencha os campos restantes.\");\r\n    } else if (userName.value.length < 3) {\r\n      throw new Error(\"O nome de usuário deve ter pelo menos 3 caracteres.\");\r\n    } else if (password.value.length < 5) {\r\n      throw new Error(\"A senha deve ter no mínimo 5 caracteres.\");\r\n    }\r\n    \r\n    const usernameExists = await checkUsernameExists(userName.value);\r\n     if (usernameExists) {\r\n       throw new Error(\"Usuário já existente, mude o nome de usuário.\");\r\n     }\r\n\r\n    await createUser();\r\n    \r\n    window.location.href = \"index.html\";\r\n  } catch (error) {\r\n    failAlert.textContent = error.message;\r\n  }\r\n});"],"names":[],"version":3,"file":"criarConta.02262275.js.map","sourceRoot":"/__parcel_source_root/"}